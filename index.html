<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BazarDZ - Boutique en ligne</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;550;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading" class="loading-overlay hidden">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Navigation Header -->
    <header id="header" class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img id="logo-img" src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=200" alt="Logo" class="logo-img">
                    <span class="logo-text" data-fr="BazarDZ" data-ar="بازار الجزائر">BazarDZ</span>
                </div>
                
                <nav class="nav">
                    <button class="nav-btn active" data-page="home" data-fr="Accueil" data-ar="الرئيسية">Accueil</button>
                    <button class="nav-btn" data-page="cart" data-fr="Panier" data-ar="العربة">Panier (<span id="cart-count">0</span>)</button>
                </nav>
                
                <div class="header-actions">
                    <select id="language-select" class="form-control lang-select">
                        <option value="fr">Français</option>
                        <option value="ar">العربية</option>
                    </select>
                    <button id="admin-btn" class="btn btn--secondary" data-fr="Admin" data-ar="إدارة">Admin</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main-content">
        
        <!-- Home Page -->
        <div id="home-page" class="page active">
            <div class="container">
                <div class="hero-section">
                    <h1 class="hero-title" data-fr="Bienvenue sur BazarDZ" data-ar="مرحباً بكم في بازار الجزائر">Bienvenue sur BazarDZ</h1>
                    <p class="hero-subtitle" data-fr="Découvrez nos produits de qualité avec livraison dans toute l'Algérie" data-ar="اكتشفوا منتجاتنا عالية الجودة مع التوصيل في جميع أنحاء الجزائر">Découvrez nos produits de qualité avec livraison dans toute l'Algérie</p>
                    
                    <div class="search-section">
                        <input type="text" id="search-input" class="form-control search-input" data-fr="Rechercher un produit..." data-ar="البحث عن منتج..." placeholder="Rechercher un produit...">
                    </div>
                </div>
                
                <div class="products-grid" id="products-grid">
                    <!-- Products will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Product Detail Page -->
        <div id="product-page" class="page">
            <div class="container">
                <button id="back-to-home" class="btn btn--outline back-btn" data-fr="← Retour" data-ar="← رجوع">← Retour</button>
                <div id="product-detail" class="product-detail">
                    <!-- Product details will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Cart Page -->
        <div id="cart-page" class="page">
            <div class="container">
                <button id="back-to-home-cart" class="btn btn--outline back-btn" data-fr="← Continuer mes achats" data-ar="← متابعة التسوق">← Continuer mes achats</button>
                <h2 class="page-title" data-fr="Mon Panier" data-ar="عربة التسوق">Mon Panier</h2>
                <div id="cart-content" class="cart-content">
                    <!-- Cart content will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Checkout Page -->
        <div id="checkout-page" class="page">
            <div class="container">
                <button class="btn btn--outline back-btn mb-24" onclick="navigateToPage('cart')" data-fr="← Retour au panier" data-ar="← العودة للعربة">← Retour au panier</button>
                <h2 class="page-title" data-fr="Finaliser la commande" data-ar="إتمام الطلب">Finaliser la commande</h2>
                <form id="checkout-form" class="checkout-form">
                    <div class="checkout-grid">
                        <div class="checkout-left">
                            <div class="card">
                                <div class="card__header">
                                    <h3 data-fr="Informations de livraison" data-ar="معلومات التوصيل">Informations de livraison</h3>
                                </div>
                                <div class="card__body">
                                    <div class="form-group">
                                        <label class="form-label" data-fr="Nom complet" data-ar="الاسم الكامل">Nom complet *</label>
                                        <input type="text" id="customer-name" class="form-control" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" data-fr="Numéro de téléphone" data-ar="رقم الهاتف">Numéro de téléphone *</label>
                                        <input type="tel" id="customer-phone" class="form-control" placeholder="05XX XX XX XX" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" data-fr="Adresse de livraison" data-ar="عنوان التوصيل">Adresse de livraison *</label>
                                        <textarea id="customer-address" class="form-control" rows="3" placeholder="Votre adresse complète..." required></textarea>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="form-label" data-fr="Wilaya" data-ar="الولاية">Wilaya *</label>
                                            <select id="wilaya-select" class="form-control" required>
                                                <option value="" data-fr="Sélectionner une wilaya" data-ar="اختر الولاية">Sélectionner une wilaya</option>
                                            </select>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label class="form-label" data-fr="Commune" data-ar="البلدية">Commune *</label>
                                            <select id="commune-select" class="form-control" required disabled>
                                                <option value="" data-fr="Sélectionner une commune" data-ar="اختر البلدية">Sélectionner une commune</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="checkout-right">
                            <div class="card">
                                <div class="card__header">
                                    <h3 data-fr="Résumé de la commande" data-ar="ملخص الطلب">Résumé de la commande</h3>
                                </div>
                                <div class="card__body">
                                    <div id="order-summary" class="order-summary">
                                        <!-- Order summary will be populated by JavaScript -->
                                    </div>
                                </div>
                                <div class="card__footer">
                                    <button type="submit" id="submit-order-btn" class="btn btn--primary btn--full-width" data-fr="Confirmer la commande" data-ar="تأكيد الطلب">Confirmer la commande</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Order Confirmation Page -->
        <div id="confirmation-page" class="page">
            <div class="container">
                <div class="confirmation-content">
                    <div class="confirmation-icon">✅</div>
                    <h2 data-fr="Commande confirmée !" data-ar="تم تأكيد الطلب!">Commande confirmée !</h2>
                    <p data-fr="Votre commande a été enregistrée avec succès. Vous serez contacté prochainement." data-ar="تم تسجيل طلبكم بنجاح. سيتم الاتصال بكم قريباً.">Votre commande a été enregistrée avec succès. Vous serez contacté prochainement.</p>
                    <div id="order-details" class="order-details">
                        <!-- Order details will be populated -->
                    </div>
                    <button id="new-order-btn" class="btn btn--primary" data-fr="Nouvelle commande" data-ar="طلب جديد">Nouvelle commande</button>
                </div>
            </div>
        </div>

        <!-- Admin Login Page -->
        <div id="admin-login-page" class="page">
            <div class="container">
                <button class="btn btn--outline back-btn mb-24" onclick="navigateToPage('home')" data-fr="← Retour à l'accueil" data-ar="← العودة للرئيسية">← Retour à l'accueil</button>
                <div class="login-container">
                    <div class="card">
                        <div class="card__header">
                            <h2 data-fr="Accès Administrateur" data-ar="وصول المسؤول">Accès Administrateur</h2>
                        </div>
                        <div class="card__body">
                            <form id="admin-login-form">
                                <div class="form-group">
                                    <label class="form-label" data-fr="Code d'accès" data-ar="رمز الوصول">Code d'accès</label>
                                    <input type="password" id="admin-code" class="form-control" placeholder="Saisissez votre code..." required>
                                </div>
                                <button type="submit" class="btn btn--primary btn--full-width" data-fr="Se connecter" data-ar="تسجيل الدخول">Se connecter</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin-dashboard-page" class="page admin-page">
            <div class="container">
                <div class="admin-header">
                    <h1 data-fr="Tableau de bord administrateur" data-ar="لوحة تحكم المسؤول">Tableau de bord administrateur</h1>
                    <div class="admin-nav">
                        <button class="btn btn--secondary admin-nav-btn active" data-section="dashboard" data-fr="Statistiques" data-ar="إحصائيات">Statistiques</button>
                        <button class="btn btn--secondary admin-nav-btn" data-section="orders" data-fr="Commandes" data-ar="الطلبات">Commandes</button>
                        <button class="btn btn--secondary admin-nav-btn" data-section="products" data-fr="Produits" data-ar="المنتجات">Produits</button>
                        <button class="btn btn--secondary admin-nav-btn" data-section="geography" data-fr="Géographie" data-ar="الجغرافيا">Géographie</button>
                        <button class="btn btn--secondary admin-nav-btn" data-section="settings" data-fr="Paramètres" data-ar="الإعدادات">Paramètres</button>
                        <button id="admin-logout" class="btn btn--outline" data-fr="Déconnexion" data-ar="تسجيل الخروج">Déconnexion</button>
                    </div>
                </div>

                <!-- Dashboard Stats -->
                <div id="admin-dashboard-content" class="admin-section active">
                    <div class="stats-grid">
                        <div class="card stat-card">
                            <div class="card__body">
                                <div class="stat-icon">💰</div>
                                <div class="stat-content">
                                    <div class="stat-value" id="total-revenue">0 DA</div>
                                    <div class="stat-label" data-fr="Chiffre d'affaires" data-ar="رقم الأعمال">Chiffre d'affaires</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card stat-card">
                            <div class="card__body">
                                <div class="stat-icon">📦</div>
                                <div class="stat-content">
                                    <div class="stat-value" id="total-orders">0</div>
                                    <div class="stat-label" data-fr="Total commandes" data-ar="إجمالي الطلبات">Total commandes</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card stat-card">
                            <div class="card__body">
                                <div class="stat-icon">⏳</div>
                                <div class="stat-content">
                                    <div class="stat-value" id="pending-orders">0</div>
                                    <div class="stat-label" data-fr="En attente" data-ar="في الانتظار">En attente</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card stat-card">
                            <div class="card__body">
                                <div class="stat-icon">🚛</div>
                                <div class="stat-content">
                                    <div class="stat-value" id="shipped-orders">0</div>
                                    <div class="stat-label" data-fr="Expédiées" data-ar="مُرسلة">Expédiées</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="charts-section">
                        <div class="card">
                            <div class="card__header">
                                <h3 data-fr="Répartition des commandes par statut" data-ar="توزيع الطلبات حسب الحالة">Répartition des commandes par statut</h3>
                            </div>
                            <div class="card__body">
                                <div class="chart-container" style="position: relative; height: 300px;">
                                    <canvas id="orders-chart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Orders Management -->
                <div id="admin-orders-content" class="admin-section">
                    <div class="admin-section-header">
                        <h2 data-fr="Gestion des commandes" data-ar="إدارة الطلبات">Gestion des commandes</h2>
                        <div class="admin-filters">
                            <input type="text" id="orders-search" class="form-control" data-fr="Rechercher..." data-ar="بحث..." placeholder="Rechercher...">
                            <select id="status-filter" class="form-control">
                                <option value="" data-fr="Tous les statuts" data-ar="جميع الحالات">Tous les statuts</option>
                                <option value="En attente">En attente</option>
                                <option value="Confirmée">Confirmée</option>
                                <option value="Expédiée">Expédiée</option>
                                <option value="Livrée">Livrée</option>
                                <option value="Annulée">Annulée</option>
                            </select>
                        </div>
                    </div>
                    <div id="orders-table" class="data-table-container">
                        <!-- Orders table will be populated -->
                    </div>
                </div>

                <!-- Products Management -->
                <div id="admin-products-content" class="admin-section">
                    <div class="admin-section-header">
                        <h2 data-fr="Gestion des produits" data-ar="إدارة المنتجات">Gestion des produits</h2>
                        <button id="add-product-btn" class="btn btn--primary" data-fr="Ajouter un produit" data-ar="إضافة منتج">Ajouter un produit</button>
                    </div>
                    <div id="products-table" class="data-table-container">
                        <!-- Products table will be populated -->
                    </div>
                </div>

                <!-- Geography Management -->
                <div id="admin-geography-content" class="admin-section">
                    <div class="admin-section-header">
                        <h2 data-fr="Gestion des wilayas et frais de livraison" data-ar="إدارة الولايات ورسوم التوصيل">Gestion des wilayas et frais de livraison</h2>
                        <button id="add-wilaya-btn" class="btn btn--primary" data-fr="Ajouter une wilaya" data-ar="إضافة ولاية">Ajouter une wilaya</button>
                    </div>
                    <div id="geography-table" class="data-table-container">
                        <!-- Geography table will be populated -->
                    </div>
                </div>

                <!-- Settings -->
                <div id="admin-settings-content" class="admin-section">
                    <div class="admin-section-header">
                        <h2 data-fr="Paramètres de l'application" data-ar="إعدادات التطبيق">Paramètres de l'application</h2>
                    </div>
                    <div class="settings-grid">
                        <!-- Logo Settings -->
                        <div class="card">
                            <div class="card__header">
                                <h3 data-fr="Gestion du logo" data-ar="إدارة الشعار">Gestion du logo</h3>
                            </div>
                            <div class="card__body">
                                <div class="logo-preview-section">
                                    <div class="logo-current">
                                        <label class="form-label" data-fr="Logo actuel" data-ar="الشعار الحالي">Logo actuel</label>
                                        <div class="logo-preview">
                                            <img id="current-logo-preview" src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=200" alt="Logo actuel">
                                        </div>
                                    </div>
                                    
                                    <div class="logo-upload-section">
                                        <label class="form-label" data-fr="Changer le logo" data-ar="تغيير الشعار">Changer le logo</label>
                                        <div class="upload-zone" id="logo-upload-zone">
                                            <div class="upload-placeholder">
                                                <div class="upload-icon">📁</div>
                                                <p data-fr="Cliquez ou glissez votre logo ici" data-ar="انقر أو اسحب الشعار هنا">Cliquez ou glissez votre logo ici</p>
                                                <p><small>JPG, PNG, max 2MB</small></p>
                                            </div>
                                            <input type="file" id="logo-file-input" accept="image/*" style="display: none;">
                                            <div id="logo-new-preview" class="new-logo-preview hidden">
                                                <img id="new-logo-img" alt="Nouveau logo">
                                                <div class="logo-actions">
                                                    <button type="button" class="btn btn--primary" onclick="saveLogo()" data-fr="Sauvegarder" data-ar="حفظ">Sauvegarder</button>
                                                    <button type="button" class="btn btn--outline" onclick="cancelLogoUpload()" data-fr="Annuler" data-ar="إلغاء">Annuler</button>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn--outline mt-16" onclick="resetToDefaultLogo()" data-fr="Logo par défaut" data-ar="الشعار الافتراضي">Logo par défaut</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- General Settings -->
                        <div class="card">
                            <div class="card__header">
                                <h3 data-fr="Informations générales" data-ar="المعلومات العامة">Informations générales</h3>
                            </div>
                            <div class="card__body">
                                <form id="settings-form">
                                    <div class="form-group">
                                        <label class="form-label" data-fr="Nom de l'application (FR)" data-ar="اسم التطبيق (فر)">Nom de l'application (FR)</label>
                                        <input type="text" id="app-name-fr" class="form-control" value="BazarDZ">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" data-fr="Nom de l'application (AR)" data-ar="اسم التطبيق (عر)">Nom de l'application (AR)</label>
                                        <input type="text" id="app-name-ar" class="form-control" value="بازار الجزائر">
                                    </div>
                                    <button type="submit" class="btn btn--primary" data-fr="Enregistrer" data-ar="حفظ">Enregistrer</button>
                                </form>
                            </div>
                        </div>
                        
                        <!-- Access Codes -->
                        <div class="card">
                            <div class="card__header">
                                <h3 data-fr="Changer les codes d'accès" data-ar="تغيير رموز الوصول">Changer les codes d'accès</h3>
                            </div>
                            <div class="card__body">
                                <form id="password-form">
                                    <div class="form-group">
                                        <label class="form-label" data-fr="Nouveau code principal" data-ar="الرمز الأساسي الجديد">Nouveau code principal</label>
                                        <input type="password" id="new-main-code" class="form-control" placeholder="Nouveau code...">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" data-fr="Nouveau code de secours" data-ar="رمز الطوارئ الجديد">Nouveau code de secours</label>
                                        <input type="password" id="new-backup-code" class="form-control" placeholder="Code de secours...">
                                    </div>
                                    <button type="submit" class="btn btn--primary" data-fr="Changer les codes" data-ar="تغيير الرموز">Changer les codes</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button id="modal-close" class="modal-close">✕</button>
            </div>
            <div class="modal-body" id="modal-body">
                Modal content goes here
            </div>
            <div class="modal-footer" id="modal-footer">
                <!-- Modal buttons will be added here -->
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>